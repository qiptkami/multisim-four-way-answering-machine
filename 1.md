# 四路抢答器

## 要求

设有主持人按钮、抢答按钮、信号灯和显示器，可以同时满足四名选手参加比赛；

比赛开始后，不待主持人按下开始按钮即抢答的按犯规处理，同时显示犯规选手编号，点亮警告信号灯；

当主持人按下开始按钮后，在9秒内如有人抢答则立即显示出第一抢答人的编号，同时点亮有效信号灯；

当9秒结束时仍无人抢答则封锁所有抢答人按钮，同时显示抢答结束标志。

## 电路模块

### 抢答器

#### 按键产生信号

#### 74ls148进行优先编码

![74ls148-01](D:\aaaaa\四路抢答器\images\74ls148.png)



![74ls148-01](D:\aaaaa\四路抢答器\images\74ls148_01.png)

当有低电平输入的时候，GS低电平，EO高电平，编码会从000-111，8个状态递增

由148的真值表可得，四路抢答器，输入只需要1、2、3、4，只需要将D1、D2、D3、D4接到开关，其余都置为高电平

#### SR 74ls279锁存

![74ls279](D:\aaaaa\四路抢答器\images\74ls279.png)

![74ls279 (2)](D:\aaaaa\四路抢答器\images\74ls279 (2).png)



​	

#### 74ls48进行译码

![74ls48](D:\aaaaa\四路抢答器\images\74ls48.png)

![数码管](D:\aaaaa\四路抢答器\images\数码管.png)

74ls48的输出a b c d e f g就对应数码管的a b c d e f g，由于只需用到0、1、2、3、4，只需将D输入接低电平

![抢答器](D:\aaaaa\四路抢答器\images\抢答器.png)

##### 锁存

一开始开关是闭合的，R是低电平，S是高电平，所以输出端q 9号管脚为低电平，开关闭合后，q仍然后低电平，经过门电路，使得ei端为0，此时148开始工作，当由用户输入的时候，GS是低电平，s就是低电平，此时r为高电平，输出就是高电平，然后经过门电路，ei端为1，148就不工作了，就达到了锁存的作用

### 倒计时

#### 74ls192





![74ls192](D:\aaaaa\四路抢答器\images\74ls192.png)

![74ls192_01](D:\aaaaa\四路抢答器\images\74ls192_01.png)

1、设置倒计时模式

有真值表和引脚图可知，需要给MR即CLR接低电平，给PL非即LOAD接高电平，给CPu即UP接高电平，给CPD即DOWN接脉冲，当CLR接低电平，PL非接低电平，就会重新装载预设值，通过一个开关控制PL非的电平

2、设置初值

通过D、B、C、D四个引脚设置初值、设置为1、0、0、1即9

3、 脉冲输入

当所有的数计数完成之后，BO会输出低电平，通过一个三输入与门，一个输入是BO的电平，就是倒计时是否停止，一个是高电平， 一个是函数发生器

![倒计时](D:\aaaaa\四路抢答器\images\倒计时.png)

### 报警

绿灯亮只有1种情况，就是抢答成功

即有选手抢答、倒计时开始、倒计时未结束

红灯亮有2种情况，分别是

有选手抢答、但倒计时未开始

第二种是无选手抢答、倒计时开始、倒计时结束

就可以得到真值表

| A（有无选手抢答） | C（倒计时是否开始） | B（倒计时是否结束） | Q（哪个灯亮） |
| ----------------- | ------------------- | ------------------- | ------------- |
| 1                 | 1                   | 0                   | 绿            |
| 1                 | 0                   | x                   | 红            |
| 0                 | 1                   | 1                   | 红            |

由此可以得到电路图

![报警](D:\aaaaa\四路抢答器\images\报警.png)

## 设计结果以及仿真结果

### 总体电路

![四路抢答器](D:\aaaaa\四路抢答器\images\四路抢答器.png)

### 当倒计时开始未结束时，有人抢答

并且抢答之后，别的选手抢答无效

![正常](D:\aaaaa\四路抢答器\images\正常.png)

### 当倒计时未开始，有人抢答

![犯规](D:\aaaaa\四路抢答器\images\犯规.png)

### 当倒计时结束后，无人抢答

![无人抢答](D:\aaaaa\四路抢答器\images\无人抢答.png)

## 总结

### 问题

#### 最开始设计的抢答电路无法锁存，电路图如下

![错误设计](D:\aaaaa\四路抢答器\images\错误设计.png)

一开始采用的时74ls75来设计锁存电路，但是设计完后发现其他功能正常，就是无法锁存，而后改用74ls148+74ls279+74ls48来实现抢答电路

#### 倒计时电路无法倒计时

经仔细检查后发现，电路图没有问题，是因为函数发生器的频率太小而导致倒计时太慢，所以以为是无法倒计时。

#### 无法显示倒计时未开始但抢答选手的编号

经仔细思考后发现，总开关同时控制了倒计时电路的开关和74ls279的R管脚，当开关打开时，倒计时才开始，但是开关闭合的，R是低电平，S是高电平，所以输出端q 9号管脚为低电平，此时74ls48上面的bi输入为0，数码管处于消隐状态，数码管不显示任何数字